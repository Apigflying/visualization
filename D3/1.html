<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .axis path,
        .axis line {
            fill: none;
            stroke: black;
            shape-rendering: crispEdges;
        }
        
        .axis text {
            font-family: sans-serif;
            font-size: 11px;
        }
    </style>
    <script src="d3.js">
    </script>
</head>

<body>
    <script>
        var dataset = [250, 210, 170, 130, 90];
        var width = height = 300;
        var rectHeight = 25; //每个矩形所占的像素高度(包括空白)
        var svg = d3.select("body") //选择文档中的body元素
            .insert("svg") //添加一个svg元素
            .attr("width", width) //设定宽度
            .attr("height", height);
        // svg.selectAll("rect")
        //     .data(dataset)
        //     .enter()
        //     .append("rect")
        //     .attr("x", 20)
        //     .attr("y", function(d, i) {
        //         return i * rectHeight;
        //     })
        //     .attr("width", function(d) {
        //         return d;
        //     })
        //     .attr("height", rectHeight - 2)
        //     .attr("fill", "steelblue");

        // /*
        //     创造线性对应的关系，
        // */
        // var data = [1.2, 2.3, 1.7, 1.5, 1];
        // var linear = d3.scale.linear().domain([d3.min(data), d3.max(data)]).range([1, 200]);

        // console.log(linear(1.2)) //31.615384615384617
        // console.log(linear(1))

        // /*
        //     当有一方是非线性的时候，可以利用ordinal来创造数值和非数值之间的对应关系
        // */
        // var index = [0, 1, 2, 3, 4, 9, 11];
        // var color = ["red", "blue", "green", "yellow", "black", "white", 'llll'];
        // var ordinal = d3.scale.ordinal().domain(index).range(color);
        // console.log(ordinal(11)) //'llll'


        var linear = d3.scale.linear()
            .domain([0, d3.max(dataset)])
            .range([0, 250]);

        var axis = d3.svg.axis()
            .scale(linear) //指定比例尺
            .orient("bottom") //指定刻度的方向
            .ticks(7);
        svg.append("g")
            .attr("class", "axis")
            .attr("transform", "translate(20," + (width - 20) + ")")
            .call(axis);
    </script>
</body>

</html>